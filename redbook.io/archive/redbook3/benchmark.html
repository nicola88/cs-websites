<html>

<head>
<meta NAME="GENERATOR" CONTENT="Microsoft FrontPage 3.0">
<title>Motivation &amp; DBMS Architecture Overview</title>

<meta name="Microsoft Border" content="tb, default"></head>

<body><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>

<table border="0" width="100%">
  <tr>
    <td width="9%"><img src="images/redbookcover.gif" alt="redbookcover.gif (13955 bytes)" WIDTH="72" HEIGHT="93" align="left"></td>
    <td width="91%"><font face="Comic Sans MS"><em>Readings in Database Systems, 3rd Edition</em></font><p><font face="Comic Sans MS">Stonebraker &amp; Hellerstein, eds.</font></td>
  </tr>
</table>

<hr align="center">
</td></tr><!--msnavigation--></table><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><!--msnavigation--><td valign="top">
<h1>
Benchmarking</h1>
<h2>
Goals</h2>

<ul>
<li>
What's a benchmark for?</li>

<ol>
<li>
What do you want to learn?</li>

<li>
How much are you prepared to invest?</li>

<ol>
<li>
programmer time</li>

<li>
machine resources</li>

<li>
management time</li>

<li>
lost opportunity</li>
</ol>

<li>
What are you prepared to give up?</li>
</ol>

<ul>
<li>
Side-benefits to the community...</li>
</ul>
</ul>

<h2>Types of Benchmarks</h2>
<ul>
<li>
<i>Generic</i> benchmarks try to give a broad idea of price/performance
across many applications.</li>

<li>
<i>Application-Specific </i>benchmarks try to focus in on a restricted
class of workloads.&nbsp; Some of the main consortia defining these:</li>

<ul>
<li>
SPEC (System Performance Evaluation Cooperative): scientific workloads,
designed to measure workstation performance</li>

<li>
The Perfect Club: scientific workloads on exotic parallel architectures</li>

<li>
TPC (Transaction Processing Council): transaction processing and decision
support workloads, architecture-independent</li>
</ul>
</ul>


<h2>
Gray's criteria for a good app-specific benchmark:</h2>

<ul>
<li>
<b>Relevant:</b> It must measure the <i>peak performance and price/performance</i>
of systems when performing typical operations within that problem domain.</li>

<li>
<b>Portable:</b> It should be easy to implement the benchmark on many different
systems and architectures.</li>

<li>
<b>Scaleable:</b> The benchmark should apply to small and large computer
systems. It should be possible to scale the benchmark up to larger systems,
and to parallel computer systems as computer performance and architecture
evolve.</li>

<li>
<b>Simple:</b> The benchmark must be understandable, otherwise it will
lack credibility.</li>
</ul>

A counter-example: MIPS (Millions of Instructions Per Second)

<ul>
<li>
irrelevant: doesn't translate directly to useful work</li>

<li>
not portable:&nbsp; IntelMIPS != SunMIPS</li>

<li>
not scalable: how does it apply to multiprocessors?</li>
</ul>

<h2>
The importance of benchmark acceptance</h2>

<ul>
<li>
Benchmarketing</li>

<li>
Wisconsin benchmark history: DeWitt vs. Ellison.&nbsp; The DeWitt clause.</li>

<li>
Anon, et al.</li>

<li>
Benchmark wars: escalating numbers lead to escalating tricks, wasted time
("just let us tune it as much as Vendor X did")</li>

<ul>
<li>
if you're doing your own, avoid this with "no reruns, no excuses"</li>
</ul>
</ul>

<h2>Transaction Processing Council</h2>
TPC arose in 1988 (headed by consultant Omri Serlin), consortium of 35
hardware/software companies

<ul>
<li>
define benchmarks for TP and DSS, define cost/performance metrics, provide
official audits</li>

<li>
Today: TPC-C is the TP benchmark (succeeding A and B), TPC-D is the decision-support
benchmark</li>

<li>
Focus on as real-world a scenario as possible:</li>

<ul>
<li>
performance from terminals to server and back, as opposed (say) to SPEC.&nbsp;
all aspects of the system.</li>

<li>
note the overhead of doing this!</li>

<ul>
<li>
hard to set up</li>

<li>
requires auditor to report results</li>

<li>
functionality as well as performance</li>
</ul>
</ul>
</ul>

<h2>
Writing a benchmark</h2>

<ul>
<li>
try to measure core speed and potential bottlenecks</li>

<ul>
<li>
"micro-benchmarks", e.g. Sort</li>
</ul>

<li>
try to expose functionalities or lack thereof</li>

<ul>
<li>
e.g. Wisconsin, TPC-D</li>

<li>
can backfire for adaptive parts of a system.&nbsp; Optimizers are notoroiusly
hard to "benchmark"</li>
</ul>

<li>
try to measure end-to-end performance on a realish workload</li>

<ul>
<li>
e.g. TPC-C, TPC-D.</li>
</ul>

<li>
a statistical note: don't use average performance!&nbsp; consider variance.&nbsp;
if you must give one number, give 90th percentile performance.</li>
</ul>

<h2>
DB Benchmarks to be aware of:</h2>

<ul>
<li>
Wisconsin (mostly for history)</li>

<li>
TPC-C</li>

<li>
TPC-D</li>

<li>
Set Query: Pat O'Neil's complex query benchmark (shows off Model 204)</li>

<li>
007:&nbsp; OODBMS benchmark from Wisconsin and some of the O-vendors</li>

<li>
Sequoia: app-specific benchmark for Earth Science from Sequoia project
at Berkeley (Stonebraker) and UCSB (earth scientists).&nbsp; Used as an
early Object-Relational and GIS benchmark (mostly R-trees and user-defined
functions, but also one transitive closure query (!))</li>

<li>
Bucky: an Object-Relational benchmark from Wisconsin focusing on structured
types (refs and nested sets)</li>

<li>
OR-1: a yet-to-be-completed Object-Relational benchmark from Wisconsin,
Informix (Stonebraker) and IBM (Carey).&nbsp; Was supposed to fix Bucky
with more focus on "what matters to customers".</li>

<li>
Gray's <i><a href="http://www.benchmarkresources.com/handbook/">Benchmark
Handbook</a></i> now lives on the web</li>
</ul>
</ul>

&nbsp;<!--msnavigation--></td></tr><!--msnavigation--></table><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td><font face="century gothic, arial, helvetica" mstheme>

<p align="center" msthemeseparator><img src="_themes/blueprnt/bluhorsa.gif" width="300" height="10"></p>

<p><strong><font face="Arial"><small><small>© 1999, Joseph M. Hellerstein.&nbsp; Last
modified<small><small> </small></small>05/04/99</small></small></font>.<br>
<font face="Arial"><small><small><a href="feedform.htm">Feedback</a> welcomed.</small></small></font></strong></p>
</font mstheme></td></tr><!--msnavigation--></table></body>
</html>

